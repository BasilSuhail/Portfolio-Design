import{aj as s,r as e,j as a}from"./vendor-DRBXmWn4.js";import{u as t,C as i,b as r,d as n,f as o,a as d,I as l,B as c,s as m}from"./index-udki1g6S.js";import{L as p}from"./label-Bcc4vOvZ.js";function u(){const[,u]=s(),[h,j]=e.useState(""),[f,g]=e.useState(!1),{toast:x}=t();return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:a.jsxs(i,{className:"w-full max-w-md",children:[a.jsxs(r,{children:[a.jsx(n,{children:"Admin Login"}),a.jsx(o,{children:"Enter your password to access the admin panel"})]}),a.jsx(d,{children:a.jsxs("form",{onSubmit:async s=>{s.preventDefault(),g(!0);try{(await m("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:h})})).ok?(sessionStorage.setItem("admin_authenticated","true"),x({title:"Success",description:"Login successful!"}),u("/admin")):(x({title:"Error",description:"Invalid password",variant:"destructive"}),j(""))}catch(e){x({title:"Error",description:"Failed to login. Please try again.",variant:"destructive"})}finally{g(!1)}},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"password",children:"Password"}),a.jsx(l,{id:"password",type:"password",placeholder:"Enter admin password",value:h,onChange:s=>j(s.target.value),required:!0,autoFocus:!0})]}),a.jsx(c,{type:"submit",className:"w-full",disabled:f,children:f?"Logging in...":"Login"})]})})]})})}export{u as default};
