import{ad as s,r as e,j as a}from"./vendor-CuSwSrOE.js";import{u as t,C as i,b as r,d as n,e as d,f as o,I as l,B as c}from"./index-DKglUzLU.js";import{L as m}from"./label-waeu4i2a.js";function p(){const[,p]=s(),[u,h]=e.useState(""),[j,f]=e.useState(!1),{toast:g}=t();return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:a.jsxs(i,{className:"w-full max-w-md",children:[a.jsxs(r,{children:[a.jsx(n,{children:"Admin Login"}),a.jsx(d,{children:"Enter your password to access the admin panel"})]}),a.jsx(o,{children:a.jsxs("form",{onSubmit:async s=>{s.preventDefault(),f(!0);try{(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:u})})).ok?(sessionStorage.setItem("admin_authenticated","true"),g({title:"Success",description:"Login successful!"}),p("/admin")):(g({title:"Error",description:"Invalid password",variant:"destructive"}),h(""))}catch(e){g({title:"Error",description:"Failed to login. Please try again.",variant:"destructive"})}finally{f(!1)}},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(m,{htmlFor:"password",children:"Password"}),a.jsx(l,{id:"password",type:"password",placeholder:"Enter admin password",value:u,onChange:s=>h(s.target.value),required:!0,autoFocus:!0})]}),a.jsx(c,{type:"submit",className:"w-full",disabled:j,children:j?"Logging in...":"Login"})]})})]})})}export{p as default};
