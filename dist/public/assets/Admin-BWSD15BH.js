import{a6 as e,r as s,j as i,a7 as a,a8 as t,a9 as l,aa as n,ab as r,X as c,ac as o,ad as d,ae as h,af as m,ag as x,ah as u,ai as j,aj as g}from"./vendor-CZRrfIXZ.js";import{c as p,u as v,I as f,B as b,C as N,a as y,b as w,d as C,e as k,T as S,f as L,g as I}from"./index-D7j0q9iI.js";import{L as E}from"./label-mfhk3i9V.js";const T=e,U=s.forwardRef(({className:e,...s},t)=>i.jsx(a,{ref:t,className:p("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));U.displayName=a.displayName;const R=s.forwardRef(({className:e,...s},a)=>i.jsx(t,{ref:a,className:p("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));R.displayName=t.displayName;const D=s.forwardRef(({className:e,...s},a)=>i.jsx(l,{ref:a,className:p("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));D.displayName=l.displayName;const F=s.forwardRef(({className:e,...s},a)=>i.jsx(n,{className:p("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:i.jsx(r,{className:p("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function P({label:e,value:a,onChange:t,placeholder:l,helperText:n}){const[r,d]=s.useState(!1),{toast:h}=v();return i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{children:e}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(f,{value:a,onChange:e=>t(e.target.value),placeholder:l||"https://example.com/image.png or upload below"})}),a&&i.jsx(b,{type:"button",variant:"ghost",size:"icon",onClick:()=>{t("")},className:"shrink-0",children:i.jsx(c,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(b,{type:"button",variant:"outline",size:"sm",onClick:()=>{var s;return null==(s=document.getElementById(`file-${e}`))?void 0:s.click()},disabled:r,className:"flex-1",children:[i.jsx(o,{className:"h-4 w-4 mr-2"}),r?"Uploading...":"Upload Image"]}),i.jsx("input",{id:`file-${e}`,type:"file",accept:"image/*",onChange:async e=>{var s;const i=null==(s=e.target.files)?void 0:s[0];if(!i)return;if(!i.type.startsWith("image/"))return void h({title:"Invalid file",description:"Please upload an image file",variant:"destructive"});if(i.size>5242880)return void h({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});d(!0);const a=new FormData;a.append("image",i);try{const e=await fetch("/api/upload",{method:"POST",body:a});if(!e.ok)throw new Error("Upload failed");const s=await e.json(),i=s.url.startsWith("/")?s.url:`/${s.url}`;t(i),h({title:"Success",description:`Image uploaded successfully! Use: ${i}`})}catch(l){h({title:"Error",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{d(!1)}},className:"hidden"})]}),n&&i.jsx("p",{className:"text-xs text-muted-foreground",children:n}),a&&i.jsx("div",{className:"mt-2 p-2 border rounded-lg",children:i.jsx("img",{src:a,alt:"Preview",className:"max-w-full max-h-32 object-contain mx-auto",onError:e=>{e.currentTarget.src="https://via.placeholder.com/150?text=Invalid+Image"}})})]})}function A(){const[e,a]=s.useState([]),[t,l]=s.useState(!0),[n,r]=s.useState(null),[c,o]=s.useState(!1),{toast:j}=v(),g={title:"",slug:"",content:"",excerpt:"",coverImage:"",published:!1};s.useEffect(()=>{p()},[]);const p=async()=>{try{const e=await fetch("/api/admin/blogs"),s=await e.json();a(s)}catch(e){j({title:"Error",description:"Failed to fetch blogs",variant:"destructive"})}finally{l(!1)}},k=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");if(t)return i.jsx("div",{children:"Loading blogs..."});if(c||n){const e=n||g;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:c?"Create New Blog":"Edit Blog"}),i.jsx(b,{variant:"outline",onClick:()=>{o(!1),r(null)},children:"Cancel"})]}),i.jsx(N,{children:i.jsxs(y,{className:"pt-6 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{htmlFor:"title",children:"Title"}),i.jsx(f,{id:"title",value:e.title,onChange:s=>{const i=s.target.value;r({...e,title:i,slug:k(i)})},placeholder:"Enter blog title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{htmlFor:"slug",children:"Slug (URL)"}),i.jsx(f,{id:"slug",value:e.slug,onChange:s=>r({...e,slug:s.target.value}),placeholder:"blog-url-slug"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{htmlFor:"excerpt",children:"Excerpt (Short Description)"}),i.jsx(f,{id:"excerpt",value:e.excerpt||"",onChange:s=>r({...e,excerpt:s.target.value}),placeholder:"Brief description of the blog"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{htmlFor:"coverImage",children:"Cover Image URL"}),i.jsx(f,{id:"coverImage",value:e.coverImage||"",onChange:s=>r({...e,coverImage:s.target.value}),placeholder:"/uploads/image.jpg"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{children:"Content (Rich Text Editor)"}),i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-md",children:i.jsx(d,{theme:"snow",value:e.content,onChange:s=>r({...e,content:s}),modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["blockquote","code-block"],["link","image"],[{color:[]},{background:[]}],["clean"]]},formats:["header","bold","italic","underline","strike","list","bullet","indent","align","blockquote","code-block","link","image","color","background"],style:{minHeight:"400px"}})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(F,{id:"published",checked:e.published,onCheckedChange:s=>r({...e,published:s})}),i.jsx(E,{htmlFor:"published",children:"Published"})]}),i.jsxs(b,{onClick:()=>{c?(async()=>{if(n)try{if(!(await fetch("/api/admin/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw new Error("Failed to create blog");j({title:"Success",description:"Blog created successfully!"}),o(!1),r(null),p()}catch(e){j({title:"Error",description:"Failed to create blog",variant:"destructive"})}})():n&&(async e=>{try{if(!(await fetch(`/api/admin/blogs/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update blog");j({title:"Success",description:"Blog updated successfully!"}),r(null),p()}catch(s){j({title:"Error",description:"Failed to update blog",variant:"destructive"})}})(n)},className:"w-full",children:[i.jsx(h,{className:"w-4 h-4 mr-2"}),c?"Create Blog":"Update Blog"]})]})})]})}return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Blog Management"}),i.jsxs(b,{onClick:()=>{o(!0),r(g)},children:[i.jsx(m,{className:"w-4 h-4 mr-2"}),"Create New Blog"]})]}),0===e.length?i.jsx(N,{children:i.jsx(y,{className:"pt-6 text-center text-muted-foreground",children:"No blogs yet. Create your first blog post!"})}):i.jsx("div",{className:"grid gap-4",children:e.map(e=>i.jsx(N,{children:i.jsx(w,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(C,{children:e.title}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["/",e.slug]}),e.excerpt&&i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.excerpt}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()}),i.jsx("span",{className:"text-xs px-2 py-1 rounded "+(e.published?"bg-green-500/20 text-green-600 dark:text-green-400":"bg-gray-500/20 text-gray-600 dark:text-gray-400"),children:e.published?"Published":"Draft"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(b,{variant:"outline",size:"sm",onClick:()=>r(e),children:i.jsx(x,{className:"w-4 h-4"})}),i.jsx(b,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this blog?"))try{if(!(await fetch(`/api/admin/blogs/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete blog");j({title:"Success",description:"Blog deleted successfully!"}),p()}catch(s){j({title:"Error",description:"Failed to delete blog",variant:"destructive"})}})(e.id),children:i.jsx(u,{className:"w-4 h-4"})})]})]})})},e.id))})]})}function B(){var e,a,t,l,n,r,c,o,d,h,x,p,B,O;const[,V]=j(),{data:z,isLoading:M,refetch:$}=k(),[J,W]=s.useState(null),[q,G]=s.useState(!1),{toast:H}=v();s.useEffect(()=>{sessionStorage.getItem("admin_authenticated")||V("/admin/login")},[V]);if(M)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Loading..."})});if(!z)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx("p",{className:"text-destructive",children:"Failed to load content."})});const _=J||z,Q=(e,s)=>{const i=JSON.parse(JSON.stringify(_));let a=i;for(let t=0;t<e.length-1;t++)a=a[e[t]];a[e[e.length-1]]=s,W(i)},Y=(e,s)=>{const i=JSON.parse(JSON.stringify(_));i[e].push(s),W(i)},K=(e,s)=>{const i=JSON.parse(JSON.stringify(_));i[e].splice(s,1),W(i)};return i.jsxs("div",{className:"min-h-screen bg-background p-8",children:[i.jsx(S,{}),i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Portfolio CMS"}),i.jsx("p",{className:"text-muted-foreground",children:"Edit your portfolio content"})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(b,{variant:"outline",onClick:()=>window.location.href="/",children:"View Site"}),i.jsx(b,{onClick:async()=>{G(!0);try{if(!(await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).ok)throw new Error("Failed to save");H({title:"Success",description:"Content saved successfully!"}),$(),W(null)}catch(e){H({title:"Error",description:"Failed to save content. Please try again.",variant:"destructive"})}finally{G(!1)}},disabled:q||!J,children:q?"Saving...":"Save Changes"}),i.jsxs(b,{variant:"ghost",onClick:()=>{sessionStorage.removeItem("admin_authenticated"),V("/admin/login"),H({title:"Logged out",description:"You have been logged out successfully."})},children:[i.jsx(g,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),i.jsxs(T,{defaultValue:"profile",className:"space-y-4",children:[i.jsxs(U,{className:"grid w-full grid-cols-12",children:[i.jsx(R,{value:"visibility",children:"Visibility"}),i.jsx(R,{value:"intros",children:"Intros"}),i.jsx(R,{value:"profile",children:"Profile"}),i.jsx(R,{value:"projects",children:"Projects"}),i.jsx(R,{value:"experience",children:"Experience"}),i.jsx(R,{value:"education",children:"Education"}),i.jsx(R,{value:"testimonials",children:"Testimonials"}),i.jsx(R,{value:"tech",children:"Tech Stack"}),i.jsx(R,{value:"writing",children:"Writing"}),i.jsx(R,{value:"social",children:"Social"}),i.jsx(R,{value:"contact",children:"Contact"}),i.jsx(R,{value:"blogs",children:"Blogs"})]}),i.jsx(D,{value:"visibility",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Section Visibility"}),i.jsx(L,{children:"Show or hide sections on your portfolio homepage"})]}),i.jsxs(y,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Projects Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your portfolio projects"})]}),i.jsx(F,{checked:_.sectionVisibility.projects,onCheckedChange:e=>Q(["sectionVisibility","projects"],e)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Experience Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your work experience"})]}),i.jsx(F,{checked:_.sectionVisibility.experience,onCheckedChange:e=>Q(["sectionVisibility","experience"],e)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Education Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your education and certifications"})]}),i.jsx(F,{checked:_.sectionVisibility.education,onCheckedChange:e=>Q(["sectionVisibility","education"],e)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Tech Stack Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display technologies you use"})]}),i.jsx(F,{checked:_.sectionVisibility.techStack,onCheckedChange:e=>Q(["sectionVisibility","techStack"],e)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Testimonials Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display client testimonials"})]}),i.jsx(F,{checked:_.sectionVisibility.testimonials,onCheckedChange:e=>Q(["sectionVisibility","testimonials"],e)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Writing Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your blog posts and articles"})]}),i.jsx(F,{checked:_.sectionVisibility.writing,onCheckedChange:e=>Q(["sectionVisibility","writing"],e)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Contact Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display contact form and social links"})]}),i.jsx(F,{checked:_.sectionVisibility.contact,onCheckedChange:e=>Q(["sectionVisibility","contact"],e)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{className:"text-base",children:"Game Section"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Pixel Shifter game"})]}),i.jsx(F,{checked:_.sectionVisibility.game,onCheckedChange:e=>Q(["sectionVisibility","game"],e)})]})]})]})}),i.jsx(D,{value:"intros",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Section Introductions"}),i.jsx(L,{children:"Edit the introduction text for each section"})]}),i.jsxs(y,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Projects Section Intro"}),i.jsx(I,{value:(null==(e=_.sectionIntros)?void 0:e.projects)||"",onChange:e=>Q(["sectionIntros","projects"],e.target.value),rows:2,placeholder:"Below are some select projects, full walkthroughs on request"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Experience Section Intro"}),i.jsx(I,{value:(null==(a=_.sectionIntros)?void 0:a.experience)||"",onChange:e=>Q(["sectionIntros","experience"],e.target.value),rows:2,placeholder:"Throughout my career, I've worked on various projects..."})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Education Section Intro"}),i.jsx(I,{value:(null==(t=_.sectionIntros)?void 0:t.education)||"",onChange:e=>Q(["sectionIntros","education"],e.target.value),rows:2,placeholder:"My academic background and certifications"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Tech Stack Section Intro"}),i.jsx(I,{value:(null==(l=_.sectionIntros)?void 0:l.techStack)||"",onChange:e=>Q(["sectionIntros","techStack"],e.target.value),rows:2,placeholder:"Technologies I work with"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Testimonials Section Intro"}),i.jsx(I,{value:(null==(n=_.sectionIntros)?void 0:n.testimonials)||"",onChange:e=>Q(["sectionIntros","testimonials"],e.target.value),rows:2,placeholder:"What people say about working with me"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Writing Section Intro"}),i.jsx(I,{value:(null==(r=_.sectionIntros)?void 0:r.writing)||"",onChange:e=>Q(["sectionIntros","writing"],e.target.value),rows:2,placeholder:"My thoughts and articles"})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Education Section Labels"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Achievements Label"}),i.jsx(f,{value:(null==(c=_.educationLabels)?void 0:c.achievementsLabel)||"Achievements:",onChange:e=>Q(["educationLabels","achievementsLabel"],e.target.value),placeholder:"Achievements:"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Certifications Label"}),i.jsx(f,{value:(null==(o=_.educationLabels)?void 0:o.certificationsLabel)||"Certifications:",onChange:e=>Q(["educationLabels","certificationsLabel"],e.target.value),placeholder:"Certifications:"})]})]})]})]})]})}),i.jsx(D,{value:"profile",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Profile Information"}),i.jsx(L,{children:"Edit your personal information"})]}),i.jsxs(y,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Name"}),i.jsx(f,{value:_.profile.name,onChange:e=>Q(["profile","name"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Title"}),i.jsx(f,{value:_.profile.title,onChange:e=>Q(["profile","title"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Bio"}),i.jsx(I,{value:_.profile.bio,onChange:e=>Q(["profile","bio"],e.target.value),rows:4}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tip: Add inline images using [img:url] or [img:url:alt-text]"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Email"}),i.jsx(f,{value:_.profile.email,onChange:e=>Q(["profile","email"],e.target.value)})]}),i.jsx(P,{label:"Avatar Image",value:_.profile.avatarUrl,onChange:e=>Q(["profile","avatarUrl"],e),helperText:"Upload your profile picture or paste image URL"}),i.jsxs("div",{children:[i.jsx(E,{children:"Avatar Fallback"}),i.jsx(f,{value:_.profile.avatarFallback,onChange:e=>Q(["profile","avatarFallback"],e.target.value)})]})]})]})}),i.jsx(D,{value:"projects",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Projects"}),i.jsx(L,{children:"Manage your portfolio projects"})]}),i.jsxs(y,{className:"space-y-6",children:[_.projects.map((e,s)=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:["Project ",s+1]}),i.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>K("projects",s),children:[i.jsx(u,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Title"}),i.jsx(f,{value:e.title,onChange:e=>Q(["projects",s,"title"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Short Description"}),i.jsx(I,{value:e.description||"",onChange:e=>Q(["projects",s,"description"],e.target.value),rows:2})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Live Project URL"}),i.jsx(f,{value:e.liveUrl||"",onChange:e=>Q(["projects",s,"liveUrl"],e.target.value),placeholder:"https://example.com"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"GitHub URL (optional)"}),i.jsx(f,{value:e.githubUrl||"",onChange:e=>Q(["projects",s,"githubUrl"],e.target.value),placeholder:"https://github.com/username/repo"})]})]}),i.jsx(P,{label:"Main Project Image",value:e.imageUrl,onChange:e=>Q(["projects",s,"imageUrl"],e),helperText:"Main image shown on homepage and project detail page"}),i.jsxs("div",{children:[i.jsx(E,{children:"Long Description (Project Detail Page)"}),i.jsx(I,{value:e.longDescription||"",onChange:e=>Q(["projects",s,"longDescription"],e.target.value),rows:4})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Additional Images (comma-separated URLs)"}),i.jsx(I,{value:(e.additionalImages||[]).join(", "),onChange:e=>{const i=e.target.value.split(",").map(e=>e.trim()).filter(e=>e);Q(["projects",s,"additionalImages"],i)},rows:2,placeholder:"/uploads/image1.png, /uploads/image2.png"})]})]},e.id)),i.jsxs(b,{onClick:()=>Y("projects",{id:String(Date.now()),title:"New Project",imageUrl:"",description:"",longDescription:"",liveUrl:"",githubUrl:"",additionalImages:[]}),className:"w-full",children:[i.jsx(m,{className:"h-4 w-4 mr-2"}),"Add New Project"]})]})]})}),i.jsx(D,{value:"experience",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Work Experience"}),i.jsx(L,{children:"Edit your work experience"})]}),i.jsxs(y,{className:"space-y-6",children:[_.experiences.map((e,s)=>{var a;return i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:["Experience ",s+1]}),i.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>K("experiences",s),children:[i.jsx(u,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Date Range"}),i.jsx(f,{value:e.dateRange,onChange:e=>Q(["experiences",s,"dateRange"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Company"}),i.jsx(f,{value:e.company,onChange:e=>Q(["experiences",s,"company"],e.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Role"}),i.jsx(f,{value:e.role,onChange:e=>Q(["experiences",s,"role"],e.target.value)})]}),i.jsx(P,{label:"Company Logo (Optional)",value:e.companyLogoUrl||"",onChange:e=>Q(["experiences",s,"companyLogoUrl"],e),helperText:"If provided, this will replace the color circle"}),i.jsxs("div",{children:[i.jsx(E,{children:"Company Color (Fallback)"}),i.jsx(f,{type:"color",value:e.companyColor||"#666666",onChange:e=>Q(["experiences",s,"companyColor"],e.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Used if no logo is provided"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Description"}),i.jsx(I,{value:e.description,onChange:e=>Q(["experiences",s,"description"],e.target.value),rows:3})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx(E,{className:"text-base font-semibold",children:"Custom Sections"}),i.jsxs(b,{size:"sm",variant:"outline",onClick:()=>{const i=e.customSections||[];Q(["experiences",String(s),"customSections"],[...i,{label:"Core Focus:",items:[]}])},children:[i.jsx(m,{className:"h-3 w-3 mr-1"}),"Add Section"]})]}),null==(a=e.customSections)?void 0:a.map((a,t)=>{var l;return i.jsxs("div",{className:"border rounded-lg p-3 mb-3 bg-muted/30",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx(f,{value:a.label,onChange:e=>Q(["experiences",String(s),"customSections",String(t),"label"],e.target.value),placeholder:"Section Label (e.g., Core Focus:)",className:"font-medium"}),i.jsx(b,{size:"sm",variant:"ghost",onClick:()=>{const i=[...e.customSections];i.splice(t,1),Q(["experiences",String(s),"customSections"],i)},children:i.jsx(u,{className:"h-3 w-3"})})]}),i.jsx(I,{value:(null==(l=a.items)?void 0:l.map(e=>e.url?`${e.name} | ${e.url}`:e.name).join("\n"))||"",onChange:e=>{const i=e.target.value.split("\n").filter(e=>e.trim()).map(e=>{const s=e.split("|").map(e=>e.trim());return s.length>1?{name:s[0],url:s[1]}:{name:s[0]}});Q(["experiences",String(s),"customSections",String(t),"items"],i)},rows:3,placeholder:"Item Name | URL (optional)\nOne per line",className:"text-sm"})]},t)})]})]},e.id)}),i.jsxs(b,{onClick:()=>Y("experiences",{id:String(Date.now()),dateRange:"2024 - NOW",role:"New Role",company:"Company Name",companyLogoUrl:"",companyColor:"#666666",description:"Description of your role and achievements"}),className:"w-full",children:[i.jsx(m,{className:"h-4 w-4 mr-2"}),"Add New Experience"]})]})]})}),i.jsx(D,{value:"education",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Education"}),i.jsx(L,{children:"Edit your education and certifications"})]}),i.jsxs(y,{className:"space-y-6",children:[null==(d=_.education)?void 0:d.map((e,s)=>{var a,t,l;return i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:["Education ",s+1]}),i.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>K("education",s),children:[i.jsx(u,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Date Range"}),i.jsx(f,{value:e.dateRange,onChange:e=>Q(["education",String(s),"dateRange"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Institution"}),i.jsx(f,{value:e.institution,onChange:e=>Q(["education",String(s),"institution"],e.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Degree"}),i.jsx(f,{value:e.degree,onChange:e=>Q(["education",String(s),"degree"],e.target.value)})]}),i.jsx(P,{label:"Institution Logo (Optional)",value:e.institutionLogoUrl||"",onChange:e=>Q(["education",String(s),"institutionLogoUrl"],e),helperText:"If provided, this will replace the color circle"}),i.jsxs("div",{children:[i.jsx(E,{children:"Institution Color (Fallback)"}),i.jsx(f,{type:"color",value:e.institutionColor||"#666666",onChange:e=>Q(["education",String(s),"institutionColor"],e.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Used if no logo is provided"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Coursework (Optional)"}),i.jsx(I,{value:e.coursework||"",onChange:e=>Q(["education",String(s),"coursework"],e.target.value),rows:2,placeholder:"Relevant coursework, skills learned, etc."})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Achievements (Optional)"}),i.jsx(I,{value:(null==(a=e.achievements)?void 0:a.join("\n"))||"",onChange:e=>Q(["education",String(s),"achievements"],e.target.value.split("\n").filter(e=>e.trim())),rows:3,placeholder:"One achievement per line (e.g., Dean's Merit Award)"})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Certifications (Optional)"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Format: Certificate Name | URL (one per line). URL is optional."}),i.jsx(I,{value:(null==(t=e.certifications)?void 0:t.map(e=>e.url?`${e.name} | ${e.url}`:e.name).join("\n"))||"",onChange:e=>{const i=e.target.value.split("\n").filter(e=>e.trim()).map(e=>{const s=e.split("|").map(e=>e.trim());return s.length>1?{name:s[0],url:s[1]}:{name:s[0]}});Q(["education",String(s),"certifications"],i)},rows:4,placeholder:"Certificate Name | https://example.com/cert"})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx(E,{className:"text-base font-semibold",children:"Custom Sections"}),i.jsxs(b,{size:"sm",variant:"outline",onClick:()=>{const i=e.customSections||[];Q(["education",String(s),"customSections"],[...i,{label:"New Section:",items:[]}])},children:[i.jsx(m,{className:"h-3 w-3 mr-1"}),"Add Section"]})]}),null==(l=e.customSections)?void 0:l.map((a,t)=>{var l;return i.jsxs("div",{className:"border rounded-lg p-3 mb-3 bg-muted/30",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx(f,{value:a.label,onChange:e=>Q(["education",String(s),"customSections",String(t),"label"],e.target.value),placeholder:"Section Label (e.g., Academic Projects:)",className:"font-medium"}),i.jsx(b,{size:"sm",variant:"ghost",onClick:()=>{const i=[...e.customSections];i.splice(t,1),Q(["education",String(s),"customSections"],i)},children:i.jsx(u,{className:"h-3 w-3"})})]}),i.jsx(I,{value:(null==(l=a.items)?void 0:l.map(e=>e.url?`${e.name} | ${e.url}`:e.name).join("\n"))||"",onChange:e=>{const i=e.target.value.split("\n").filter(e=>e.trim()).map(e=>{const s=e.split("|").map(e=>e.trim());return s.length>1?{name:s[0],url:s[1]}:{name:s[0]}});Q(["education",String(s),"customSections",String(t),"items"],i)},rows:3,placeholder:"Item Name | URL (optional)\nOne per line",className:"text-sm"})]},t)}),(!e.customSections||0===e.customSections.length)&&i.jsx("p",{className:"text-sm text-muted-foreground italic",children:'No custom sections yet. Click "Add Section" to create one.'})]})]},e.id)}),i.jsxs(b,{onClick:()=>Y("education",{id:String(Date.now()),dateRange:"2020 - 2024",degree:"Degree Name",institution:"Institution Name",institutionLogoUrl:"",institutionColor:"#666666",coursework:"",customSections:[],certifications:[],achievements:[]}),className:"w-full",children:[i.jsx(m,{className:"h-4 w-4 mr-2"}),"Add New Education"]})]})]})}),i.jsx(D,{value:"testimonials",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Testimonials"}),i.jsx(L,{children:"Manage client testimonials"})]}),i.jsxs(y,{className:"space-y-6",children:[_.testimonials.map((e,s)=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:["Testimonial ",s+1]}),i.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>K("testimonials",s),children:[i.jsx(u,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Quote"}),i.jsx(I,{value:e.quote,onChange:e=>Q(["testimonials",s,"quote"],e.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Author Name"}),i.jsx(f,{value:e.authorName,onChange:e=>Q(["testimonials",s,"authorName"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Author Role"}),i.jsx(f,{value:e.authorRole,onChange:e=>Q(["testimonials",s,"authorRole"],e.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Author Fallback"}),i.jsx(f,{value:e.authorFallback,onChange:e=>Q(["testimonials",s,"authorFallback"],e.target.value),placeholder:"Initials (e.g., JD)"})]}),i.jsx(P,{label:"Company Logo (Optional)",value:e.companyLogoUrl||"",onChange:e=>Q(["testimonials",s,"companyLogoUrl"],e),helperText:"If provided, this will replace the color circle"}),i.jsxs("div",{children:[i.jsx(E,{children:"Company Color (Fallback)"}),i.jsx(f,{type:"color",value:e.companyColor||"#FFB800",onChange:e=>Q(["testimonials",s,"companyColor"],e.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Used if no logo is provided"})]})]},e.id)),i.jsxs(b,{onClick:()=>Y("testimonials",{id:String(Date.now()),quote:"Add testimonial quote here",authorName:"Author Name",authorRole:"Role at Company",authorFallback:"AN",companyLogoUrl:"",companyColor:"#FFB800"}),className:"w-full",children:[i.jsx(m,{className:"h-4 w-4 mr-2"}),"Add New Testimonial"]})]})]})}),i.jsx(D,{value:"tech",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Tech Stack"}),i.jsx(L,{children:"Edit technologies you use"})]}),i.jsxs(y,{className:"space-y-6",children:[_.technologies.map((e,s)=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:["Technology ",s+1]}),i.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>K("technologies",s),children:[i.jsx(u,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Name"}),i.jsx(f,{value:e.name,onChange:e=>Q(["technologies",s,"name"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Icon"}),i.jsx(f,{value:e.icon,onChange:e=>Q(["technologies",s,"icon"],e.target.value)})]})]})]},e.id)),i.jsxs(b,{onClick:()=>Y("technologies",{id:String(Date.now()),name:"New Technology",icon:"icon-name"}),className:"w-full",children:[i.jsx(m,{className:"h-4 w-4 mr-2"}),"Add New Technology"]})]})]})}),i.jsx(D,{value:"writing",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Writing / Blog Posts"}),i.jsx(L,{children:"Manage your blog posts"})]}),i.jsxs(y,{className:"space-y-6",children:[_.posts.map((e,s)=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-semibold",children:["Post ",s+1]}),i.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>K("posts",s),children:[i.jsx(u,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Date"}),i.jsx(f,{value:e.date,onChange:e=>Q(["posts",s,"date"],e.target.value)})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(E,{children:"Title"}),i.jsx(f,{value:e.title,onChange:e=>Q(["posts",s,"title"],e.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Read Time (minutes)"}),i.jsx(f,{type:"number",value:e.readTime,onChange:e=>Q(["posts",s,"readTime"],parseInt(e.target.value))})]})]},e.id)),i.jsxs(b,{onClick:()=>Y("posts",{id:String(Date.now()),date:(new Date).toLocaleDateString("en-GB"),title:"New Blog Post",readTime:5}),className:"w-full",children:[i.jsx(m,{className:"h-4 w-4 mr-2"}),"Add New Post"]})]})]})}),i.jsx(D,{value:"social",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Social Links"}),i.jsx(L,{children:"Edit your social media links"})]}),i.jsxs(y,{className:"space-y-6",children:[_.socialLinks.map((e,s)=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"font-semibold capitalize",children:e.platform}),i.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>K("socialLinks",s),children:[i.jsx(u,{className:"h-4 w-4 mr-1"}),"Remove"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(E,{children:"Label"}),i.jsx(f,{value:e.label,onChange:e=>Q(["socialLinks",s,"label"],e.target.value)})]}),i.jsxs("div",{children:[i.jsx(E,{children:"Value"}),i.jsx(f,{value:e.value,onChange:e=>Q(["socialLinks",s,"value"],e.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(E,{children:"URL"}),i.jsx(f,{value:e.url,onChange:e=>Q(["socialLinks",s,"url"],e.target.value)})]})]},s)),i.jsxs(b,{onClick:()=>Y("socialLinks",{platform:"new-platform",label:"New Platform",value:"@username",url:"https://example.com"}),className:"w-full",children:[i.jsx(m,{className:"h-4 w-4 mr-2"}),"Add New Social Link"]})]})]})}),i.jsx(D,{value:"contact",children:i.jsxs(N,{children:[i.jsxs(w,{children:[i.jsx(C,{children:"Contact Settings"}),i.jsx(L,{children:"Manage contact form and calendar booking options"})]}),i.jsxs(y,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(E,{children:"Show Contact Form"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display the contact form on your portfolio"})]}),i.jsx(F,{checked:(null==(h=_.contactSettings)?void 0:h.showForm)??!0,onCheckedChange:e=>Q(["contactSettings","showForm"],e)})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[i.jsx(E,{className:"text-base font-semibold",children:"Calendar Booking Links"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your Cal.com or Calendly booking links"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{children:"15 Minute Meeting Link"}),i.jsx(f,{placeholder:"https://app.cal.eu/yourusername/15min",value:(null==(p=null==(x=_.contactSettings)?void 0:x.calendarLinks)?void 0:p.link15min)||"",onChange:e=>Q(["contactSettings","calendarLinks","link15min"],e.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(E,{children:"30 Minute Meeting Link"}),i.jsx(f,{placeholder:"https://app.cal.eu/yourusername/30min",value:(null==(O=null==(B=_.contactSettings)?void 0:B.calendarLinks)?void 0:O.link30min)||"",onChange:e=>Q(["contactSettings","calendarLinks","link30min"],e.target.value)})]})]})]})]})}),i.jsx(D,{value:"blogs",children:i.jsx(A,{})})]})]})]})}F.displayName=n.displayName;export{B as default};
