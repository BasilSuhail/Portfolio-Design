import{r as s,j as e}from"./react-Bs01FnHe.js";import{u as a}from"./vendor-CTFK7JM4.js";import{u as t,C as i,b as r,d as n,e as o,f as d,I as c,B as l}from"./index-B87e2DQB.js";import{L as m}from"./label-mOrdN3b0.js";import"./ui-1jqlrV-B.js";function p(){const[,p]=a(),[u,h]=s.useState(""),[j,f]=s.useState(!1),{toast:g}=t();return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:e.jsxs(i,{className:"w-full max-w-md",children:[e.jsxs(r,{children:[e.jsx(n,{children:"Admin Login"}),e.jsx(o,{children:"Enter your password to access the admin panel"})]}),e.jsx(d,{children:e.jsxs("form",{onSubmit:async s=>{s.preventDefault(),f(!0);try{(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:u})})).ok?(sessionStorage.setItem("admin_authenticated","true"),g({title:"Success",description:"Login successful!"}),p("/admin")):(g({title:"Error",description:"Invalid password",variant:"destructive"}),h(""))}catch(e){g({title:"Error",description:"Failed to login. Please try again.",variant:"destructive"})}finally{f(!1)}},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",children:"Password"}),e.jsx(c,{id:"password",type:"password",placeholder:"Enter admin password",value:u,onChange:s=>h(s.target.value),required:!0,autoFocus:!0})]}),e.jsx(l,{type:"submit",className:"w-full",disabled:j,children:j?"Logging in...":"Login"})]})})]})})}export{p as default};
